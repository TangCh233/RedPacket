# RedPacket

### 学习高并发问题的demo
乐观锁、悲观锁、Redis分布式锁是解决系统高并发问题的办法之一。
更多关于它们的介绍:[高并发场景解决--抢红包](https://blog.csdn.net/qq_33764491/article/details/81083644)

### 总结
悲观锁使用了数据库的锁机制，可以消除数据不一致性，对于开发者而言会十分简单，但是，使用悲观锁后，数据库的性能有所下降，因为大量的线程都会被阻塞，而且需要有大量的恢复过程，需要进一步改变算法以提高系统的井发能力。

使用乐观锁有助于提高并发性能，但是由于版本号冲突，乐观锁导致多次请求服务失败的概率大大提高，而我们通过重入（按时间戳或者按次数限定）来提高成功的概率，这样对于乐观锁而言实现的方式就相对复杂了，其性能也会随着版本号冲突的概率提升而提升，并不稳定。使用乐观锁的弊端在于， 导致大量的SQL被执行，对于数据库的性能要求较高，容易引起数据库性能的瓶颈，而且对于开发还要考虑重入机制，从而导致开发难度加大。

使用Redis去实现高并发，消除了数据不一致性，并且在整个过程中尽量少的涉及数据库。但是这样使用的风险在于Redis的不稳定性，因为其事务和存储都存在不稳定的因素，所以更多的时候，笔者都建议使用独立Redis服务器做高并发业务，一方面可以提高Redis的性能，另一方面即使在高并发的场合，Redis服务器岩机也不会影响现有的其他业务，同时也可以使用备机等设备提高系统的高可用，保证网站的安全稳定。

以上讨论了3 种方式实现高并发业务技术的利弊，妥善规避风险，同时保证系统的高可用和高效是值得每一位开发者思考的问题。

### 参考
* [JavaEE互联网轻量级框架整合开发](https://baike.baidu.com/item/Java%20EE%E4%BA%92%E8%81%94%E7%BD%91%E8%BD%BB%E9%87%8F%E7%BA%A7%E6%A1%86%E6%9E%B6%E6%95%B4%E5%90%88%E5%BC%80%E5%8F%91/22030486?fr=aladdin)
*  [RedisTemplate常用集合使用说明-boundListOps(八)](http://357029540.iteye.com/blog/2398805)
*  [Java高并发，如何解决，什么方式解决](https://www.cnblogs.com/lr393993507/p/5909804.html)